<!DOCTYPE html><html lang="en-US"><body> <script> var elements = document.querySelectorAll('p'); Array.prototype.forEach.call(elements, function(el, i){ if(el.innerHTML=='[expand]') { var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>'); el.parentNode.innerHTML = parentcontent; } }); var elements = document.querySelectorAll('div.expand'); Array.prototype.forEach.call(elements, function(el, i){ el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>'; }); </script> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/my-tech/" class="site-title lh-tight"> My SRE Stuff </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/my-tech/" class="nav-list-link">My Page</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in AWS category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/AWS" class="nav-list-link">AWS</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/AWS/creation-of-basic-infra/" class="nav-list-link">CloudFormation Stack Deployment Examples Part 1</a><li class="nav-list-item "><a href="/my-tech/doc/AWS/doc-2/" class="nav-list-link">Create an Infrastructure that runs redundant WordPress</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Ansible category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Ansible" class="nav-list-link">Ansible</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/Ansible/ansible-1/" class="nav-list-link">Create a host, ssh into the public EC2 instnace</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in CICD category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/CICD" class="nav-list-link">CICD</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/CICD/doc-1/" class="nav-list-link">CI/CD runners and agents with Azure Container Apps Jobs</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Docker category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Docker" class="nav-list-link">Docker</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/Docker/docker-1/" class="nav-list-link">Docker First Setup From A Cloud Guru Part 1</a><li class="nav-list-item "><a href="/my-tech/doc/Docker/docker-2/" class="nav-list-link">Docker First Setup From A Cloud Guru Part 2</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Kubernetes category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Kubernetes" class="nav-list-link">Kubernetes</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/Kubernetes/doc-1/" class="nav-list-link">Kubernetes 1.24 Installation</a><li class="nav-list-item "><a href="/my-tech/doc/Kubernetes/doc-2/" class="nav-list-link">CKA Preparation, 1.22</a></ul><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in Linux category" aria-pressed="true"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Linux" class="nav-list-link">Linux</a><ul class="nav-list"><li class="nav-list-item active"><a href="/my-tech/doc/Linux/doc-1/" class="nav-list-link active">RHCSA - Understanding and Using Essential Tools on RHEL 8</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Misc category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Misc" class="nav-list-link">Misc</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/Kubernetes/kubernetes-authentication/" class="nav-list-link">Kubernetes Security</a><li class="nav-list-item "><a href="/my-tech/doc/Misc/template/" class="nav-list-link">tutorial about the running a sample docker image in numbered steps</a><li class="nav-list-item "><a href="/my-tech/template/" class="nav-list-link">Title</a><li class="nav-list-item "><a href="/my-tech/doc/Misc/tutorial-about-the-running-a-sample-docker-image-in-numbered-steps%20copy/" class="nav-list-link">tutorial about the running a sample docker image in numbered steps</a><li class="nav-list-item "><a href="/my-tech/doc/Misc/a-tutorial-about-creating-an-AWS-basic-infrastructure,-with-VPC,-publicc,-and-private-subnets,-IGW,-NAT,-security-groups,-EC2-and-RDS-that-runs-postgresql/" class="nav-list-link">a tutorial about creating an AWS basic infrastructure, with VPC, public, and private subnets, IGW, NAT, security groups, EC2 and RDS that runs postgresql</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in My Projects category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/MyProjects" class="nav-list-link">My Projects</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/doc/My%20Projects/doc-1/" class="nav-list-link">Utilizing CloudFormation Stack to Deploy Scalable WordPress, with Different Methods</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Terraform category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/my-tech/docs/Terraform" class="nav-list-link">Terraform</a><ul class="nav-list"><li class="nav-list-item "><a href="/my-tech/docs/Terraform/doc-1/" class="nav-list-link">Terraform Deployment of basic infrastructure on AWS</a></ul></ul></nav></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search My SRE Stuff" aria-label="Search My SRE Stuff" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/my-tech/docs/Linux">Linux</a><li class="breadcrumb-nav-list-item"><span>RHCSA - Understanding and Using Essential Tools on RHEL 8</span></ol></nav><div id="main-content" class="main-content"><main><h1> RHCSA - Understanding and Using Essential Tools on RHEL 8</h1><h2></h2><h3> Date Posted: 2023 01 15</h3><h1 id="table-of-content"> <a href="#table-of-content" class="anchor-heading" aria-labelledby="table-of-content"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table Of Content</h1><h1 id="accessing-and-administering-linux-servers"> <a href="#accessing-and-administering-linux-servers" class="anchor-heading" aria-labelledby="accessing-and-administering-linux-servers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing and Administering Linux Servers</h1><h3 id="access-local-and-remote-systems"> <a href="#access-local-and-remote-systems" class="anchor-heading" aria-labelledby="access-local-and-remote-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Access Local and Remote Systems</h3><ul><li>Access a server via the console.<ul><li><strong>Physical hardware:</strong> Use a keyboard, monitor, and mouse.<li><strong>Virtual machine:</strong> Use a software console (maybe in a web browser).</ul></ul><h3 id="switching-users"> <a href="#switching-users" class="anchor-heading" aria-labelledby="switching-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Switching Users</h3><h4 id="su-command"> <a href="#su-command" class="anchor-heading" aria-labelledby="su-command"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>su</strong> command</h4><ul><li><code class="language-plaintext highlighter-rouge">su - root</code> - Switch to root user (requires root password).<li><code class="language-plaintext highlighter-rouge">su -</code> - Same as above.</ul><h4 id="sudo-command"> <a href="#sudo-command" class="anchor-heading" aria-labelledby="sudo-command"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>sudo</strong> command</h4><ul><li><code class="language-plaintext highlighter-rouge">sudo -i</code> - Open an interactive shell as root.<li>Execute commands directly: <code class="language-plaintext highlighter-rouge">sudo &lt;command&gt;</code>. Example: <code class="language-plaintext highlighter-rouge">sudo dnf update</code>.</ul><h3 id="ssh-commands-suite"> <a href="#ssh-commands-suite" class="anchor-heading" aria-labelledby="ssh-commands-suite"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SSH Commands Suite</h3><p>Secure methods for remote operations.</p><h4 id="setting-up-passwordless-login"> <a href="#setting-up-passwordless-login" class="anchor-heading" aria-labelledby="setting-up-passwordless-login"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting up passwordless login</h4><ol><li>Become the web_user: <code class="language-plaintext highlighter-rouge">su - web_user</code>.<li>Generate SSH keys: <code class="language-plaintext highlighter-rouge">ssh-keygen</code> (use defaults).<li>Copy key to the other server: <code class="language-plaintext highlighter-rouge">ssh-copy-id web_user@&lt;&lt;other_server&gt;&gt;</code>.<li>Test login: <code class="language-plaintext highlighter-rouge">ssh web_user@&lt;&lt;other_server&gt;&gt;</code>.</ol><h4 id="remote-command-execution"> <a href="#remote-command-execution" class="anchor-heading" aria-labelledby="remote-command-execution"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Remote command execution</h4><ul><li>Execute a remote command: <code class="language-plaintext highlighter-rouge">ssh web_user@&lt;&lt;other_server&gt;&gt; &lt;command&gt;</code>. Example: <code class="language-plaintext highlighter-rouge">ssh web_user@&lt;&lt;other_server&gt;&gt; cat /etc/redhat-release</code>.</ul><h4 id="file-transfer-with-scp"> <a href="#file-transfer-with-scp" class="anchor-heading" aria-labelledby="file-transfer-with-scp"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File transfer with <strong>scp</strong></h4><ul><li><code class="language-plaintext highlighter-rouge">scp web_user@&lt;&lt;other_server&gt;&gt;:/path/to/file /local/destination</code>.</ul><h4 id="switching-to-db_user"> <a href="#switching-to-db_user" class="anchor-heading" aria-labelledby="switching-to-db_user"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Switching to db_user</h4><ul><li><code class="language-plaintext highlighter-rouge">sudo su - db_user</code>.</ul><h4 id="file-transfer-with-sftp"> <a href="#file-transfer-with-sftp" class="anchor-heading" aria-labelledby="file-transfer-with-sftp"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> File transfer with <strong>sftp</strong></h4><ul><li><code class="language-plaintext highlighter-rouge">sftp db_user@&lt;&lt;other_server&gt;&gt;</code>: Gives an encrypted FTP-like session.</ul><h3 id="tasks-overview"> <a href="#tasks-overview" class="anchor-heading" aria-labelledby="tasks-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tasks Overview</h3><ol><li>Check for outstanding patches.<li>Grab web content for the web_user account.<li>Help db_user retrieve database dumps from another server.</ol><h1 id="linux-system-documentation"> <a href="#linux-system-documentation" class="anchor-heading" aria-labelledby="linux-system-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Linux System Documentation</h1><p>Linux offers comprehensive system documentation. This lesson covers ‘man’ pages, the ‘info’ command, and the /usr/share/doc directory.</p><h3 id="objective"> <a href="#objective" class="anchor-heading" aria-labelledby="objective"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Objective:</strong></h3><p>Install Apache for web developers on RHEL 8, confirm documentation presence, and share the Apache license file. Also, pre-install MariaDB anticipating future needs.</p><h3 id="checking-for-apachemariadb-documentation"> <a href="#checking-for-apachemariadb-documentation" class="anchor-heading" aria-labelledby="checking-for-apachemariadb-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Checking for Apache/MariaDB Documentation</strong></h3><ol><li><p><strong>Man Pages</strong></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> man httpd
 man mariadb
 man mysql
</code></pre></div></div><li><p><strong>Info Pages</strong></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> info httpd
 info mariadb
 info mysql
</code></pre></div></div><li><p><strong>Other System Documentation</strong></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">ls</span> <span class="nt">-la</span> /usr/share/doc | egrep <span class="nt">-i</span> <span class="s2">"httpd|mariadb|mysql"</span>
</code></pre></div></div></ol><h3 id="installing-apache-and-mariadb"> <a href="#installing-apache-and-mariadb" class="anchor-heading" aria-labelledby="installing-apache-and-mariadb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Installing Apache and MariaDB</strong></h3><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>dnf <span class="nt">-y</span> <span class="nb">install </span>httpd mariadb
</code></pre></div></div><h3 id="using-built-in-command-help"> <a href="#using-built-in-command-help" class="anchor-heading" aria-labelledby="using-built-in-command-help"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Using Built-in Command Help</strong></h3><ol><li><p><strong>MariaDB Help</strong></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> mariadb <span class="nt">--help</span>
 mariadb -?
</code></pre></div></div><li><p><strong>Help for Man &amp; Info</strong></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> man <span class="nt">--help</span>
 info <span class="nt">--help</span>
</code></pre></div></div></ol><h3 id="using-apachemariadb-documentation"> <a href="#using-apachemariadb-documentation" class="anchor-heading" aria-labelledby="using-apachemariadb-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Using Apache/MariaDB Documentation</strong></h3><ol><li><strong>Man Pages</strong><ul><li><p>Check documentation:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  man httpd
  man mariadb
</code></pre></div></div><li><p>Discover man pages:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  whatis httpd
  whatis httpd mariadb mysql
</code></pre></div></div><li><p>Additional information:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  apropos httpd
  apropos httpd mariadb
</code></pre></div></div><li><p>Access a specific man page by page number:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  man 8 httpd
</code></pre></div></div><li><p>Man command info:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  man man
  man info
</code></pre></div></div></ul><li><strong>Info Pages</strong><ul><li><p>Check documentation:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  info httpd
  info mariadb
</code></pre></div></div><li><p>Info command info:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  info info
  info man
</code></pre></div></div></ul><li><strong>System Documentation in /usr/share/doc</strong><ul><li><p>Locate Apache documentation:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">ls</span> <span class="nt">-la</span> /usr/share/doc | egrep <span class="nt">-i</span> <span class="s2">"httpd|mariadb|mysql"</span>
</code></pre></div></div><li><p>Change to the Apache documentation directory:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd</span> /usr/share/doc/httpd
  <span class="nb">ls</span> <span class="nt">-la</span>
</code></pre></div></div><li><p>View the license file:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  more LICENSE
</code></pre></div></div></ul></ol><h1 id="manipulating-text-files-in-linux"> <a href="#manipulating-text-files-in-linux" class="anchor-heading" aria-labelledby="manipulating-text-files-in-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Manipulating Text Files in Linux</h1><p>In the daily life of a Linux system administrator, text files are everywhere, forming the core of the system’s configuration and software. Editing and manipulating these files, especially text files, is crucial.</p><h3 id="objective-1"> <a href="#objective-1" class="anchor-heading" aria-labelledby="objective-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Objective:</strong></h3><p>Create a new system log to monitor httpd events on RHEL 8 for web developers. They need a log aggregating all httpd web server-related logs in a text file for report generation.</p><h3 id="steps"> <a href="#steps" class="anchor-heading" aria-labelledby="steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Steps:</strong></h3><ol><li><strong>Setting Up</strong><ul><li>Log in as <code class="language-plaintext highlighter-rouge">root</code>, then switch to <code class="language-plaintext highlighter-rouge">web_user</code> (this user will own the logs).<li><p>Create directories:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">mkdir</span> <span class="nt">-p</span> log_project/raw_logs
  <span class="nb">mkdir </span>log_project/processed_logs
  <span class="nb">cd </span>log_project/
</code></pre></div></div></ul><li><strong>Creating the Master Log</strong><ul><li><p>Create an empty “master” log:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">touch </span>raw_logs/master.log
</code></pre></div></div><li><p>View structure of <code class="language-plaintext highlighter-rouge">/var/log</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo </span>tree /var/log | more
</code></pre></div></div><li><p>Generate the “master” log with references to <code class="language-plaintext highlighter-rouge">httpd</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo grep </span>httpd /var/log/<span class="k">*</span> <span class="o">&gt;</span> raw_logs/master.log 2&gt; errors.log
</code></pre></div></div><li><p>Examine the error logs and move them:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cat </span>errors.log
  <span class="nb">mv </span>errors.log raw_logs
</code></pre></div></div><li><p>Update the “master” log without error messages:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo grep </span>httpd /var/log/<span class="k">*</span> <span class="o">&gt;</span> raw_logs/master.log 2&gt;/dev/null
</code></pre></div></div></ul><li><strong>Incorporating the Systemd Journal</strong><ul><li><p>Append the systemd journal logs to the “master” log:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  journalctl <span class="nt">--unit</span><span class="o">=</span>httpd <span class="nt">--no-pager</span> <span class="o">&gt;&gt;</span> raw_logs/master.log
</code></pre></div></div><li><p>Backup the “master” log:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cp </span>raw_logs/master.log /tmp
</code></pre></div></div></ul><li><strong>Using the <code class="language-plaintext highlighter-rouge">grep</code> Command &amp; Regular Expressions</strong><ul><li><p>Reorganize directory structure:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">mv </span>processed_logs httpd_logs
  <span class="nb">mkdir </span>error_logs
  <span class="nb">mv</span> <span class="nt">-v</span> raw_logs/errors.log error_logs
</code></pre></div></div><li><p>Examine logs and extract specific lines:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">grep </span>systemd raw_logs/master.log <span class="o">&gt;</span> httpd_logs/systemd.log
  egrep <span class="nt">-v</span> <span class="s2">"dnf|secure"</span> raw_logs/master.log <span class="o">&gt;</span> httpd_logs/no_dnf_secure.log
</code></pre></div></div></ul><li><strong>Cleaning Up</strong><ul><li><p>Remove the unnecessary error logs directory:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">rm</span> <span class="nt">-rf</span> error_logs
</code></pre></div></div></ul></ol><h1 id="working-with-linux-files---permissions"> <a href="#working-with-linux-files---permissions" class="anchor-heading" aria-labelledby="working-with-linux-files---permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Working with Linux Files - Permissions</h1><h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction</h2><p>A key aspect of Linux security is managing file and directory access. When files or directories are created, their permissions are determined by the ‘umask’ of the session. Linux also offers the convenience of using hard and soft links as shortcuts to files. This lesson covers:</p><ul><li>Standard Linux <code class="language-plaintext highlighter-rouge">ugo/rwx</code> permissions model.<li>Setting and troubleshooting permissions.<li>Understanding ‘umask’, its configuration, and functioning.<li>How to utilize hard and soft links.</ul><h2 id="instructions"> <a href="#instructions" class="anchor-heading" aria-labelledby="instructions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions</h2><h3 id="1-setting-up-new-storage-location"> <a href="#1-setting-up-new-storage-location" class="anchor-heading" aria-labelledby="1-setting-up-new-storage-location"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Setting up New Storage Location</h3><ul><li><p><strong>Become Root</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-i</span>
</code></pre></div></div><li><p><strong>Create a new storage location and move data</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /web_data
<span class="nb">mv</span> <span class="nt">-v</span> /var/www/<span class="k">*</span> /web_data
</code></pre></div></div><li><p><strong>Adjusting ownership and permissions</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chown</span> <span class="nt">-R</span> web_user:web_group /web_data
<span class="nb">chmod</span> <span class="nt">-R</span> g+w /web_data
<span class="nb">mkdir</span> /web_data/db_stuff
<span class="nb">chown</span> <span class="nt">-R</span> db_user:web_group /web_data/db_stuff
<span class="nb">chmod</span> <span class="nt">-R</span> 775 /web_data
<span class="nb">chmod</span> <span class="nt">-R</span> 770 /web_data/db_stuff
</code></pre></div></div></ul><h3 id="2-test-permissions"> <a href="#2-test-permissions" class="anchor-heading" aria-labelledby="2-test-permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Test Permissions</h3><ul><li><p><strong>For web_user</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - web_user
<span class="nb">echo </span>Hello! <span class="o">&gt;</span> /web_data/html/index.html
<span class="nb">cat</span> /web_data/html/index.html
<span class="nb">exit</span>
</code></pre></div></div><li><p><strong>For db_user</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - db_user
<span class="nb">echo </span>For DBAs only! <span class="o">&gt;</span> /web_data/db_stuff/README
<span class="nb">cat</span> /web_data/db_stuff/README
<span class="nb">exit</span>
</code></pre></div></div><li><p><strong>For cloud_user</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - cloud_user
<span class="nb">echo </span>I wanna play too! <span class="o">&gt;</span> /web_data/html/play.html
<span class="nb">cat</span> /web_data/html/index.html
<span class="nb">groups </span>cloud_user
<span class="nb">cat</span> /web_data/db_stuff/README
<span class="nb">exit</span>
</code></pre></div></div></ul><h3 id="3-create-links-to-new-location"> <a href="#3-create-links-to-new-location" class="anchor-heading" aria-labelledby="3-create-links-to-new-location"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Create Links to New Location</h3><ul><li><p><strong>Soft links for directories</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> /web_data/<span class="k">*</span> /var/www
</code></pre></div></div><li><p><strong>Hard link for DBA README</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - db_user
<span class="nb">ln</span> /web_data/db_stuff/README <span class="nb">.</span>
<span class="nb">rm</span> <span class="nt">-f</span> /web_data/db_stuff/README
<span class="nb">exit</span>
</code></pre></div></div></ul><h3 id="4-cleanup-and-addressing-broken-symlinks"> <a href="#4-cleanup-and-addressing-broken-symlinks" class="anchor-heading" aria-labelledby="4-cleanup-and-addressing-broken-symlinks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Cleanup and Addressing Broken Symlinks</h3><ul><li><p><strong>Deleting the db_stuff Directory and addressing broken symlinks</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> /web_data/db_stuff
<span class="nb">rm</span> <span class="nt">-f</span> /var/www/db_stuff
</code></pre></div></div></ul><h3 id="5-adjust-the-web_user-umask"> <a href="#5-adjust-the-web_user-umask" class="anchor-heading" aria-labelledby="5-adjust-the-web_user-umask"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Adjust the web_user Umask</h3><ul><li><p>Detail about umask: <a href="https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html">https://www.cyberciti.biz/tips/understanding-linux-unix-umask-value-usage.html</a></p><li><p><strong>Setting Umask for web_user</strong>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - web_user
<span class="nb">echo</span> <span class="s1">'umask 0027'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
<span class="nb">exit
</span>su - web_user
<span class="nb">touch </span>testfile
<span class="nb">ls</span> <span class="nt">-la</span>
</code></pre></div></div></ul><h1 id="compressing-and-decompressing-files-in-linux"> <a href="#compressing-and-decompressing-files-in-linux" class="anchor-heading" aria-labelledby="compressing-and-decompressing-files-in-linux"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compressing and Decompressing Files in Linux</h1><h2 id="introduction-1"> <a href="#introduction-1" class="anchor-heading" aria-labelledby="introduction-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction</h2><p>For Linux system administrators, compressing and archiving files/directories is a core skill. During the lifecycle of an RHEL 8 server, managing archives becomes essential. Whether it’s for installing software, transferring data, or simply saving disk space and improving network transfers, knowing how to work with compressed files is vital.</p><h2 id="housekeeping-in-home-directory"> <a href="#housekeeping-in-home-directory" class="anchor-heading" aria-labelledby="housekeeping-in-home-directory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Housekeeping in <code class="language-plaintext highlighter-rouge">/home</code> Directory</h2><p>The <code class="language-plaintext highlighter-rouge">/home</code> directory has become cluttered due to inactive user accounts, leftover project files, and more. Cleaning up and organizing the directory requires utilizing both archiving and compression techniques.</p><h3 id="archiving-orphaned-home-directories"> <a href="#archiving-orphaned-home-directories" class="anchor-heading" aria-labelledby="archiving-orphaned-home-directories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Archiving Orphaned Home Directories</h3><ol><li><p>Check filesystem utilization:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">df</span> <span class="nt">-h</span> /
</code></pre></div></div><li><p>Create a new archive directory:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cd</span> /home
 <span class="nb">mkdir</span> /home/archives
</code></pre></div></div><li><p>Archive user directories using <code class="language-plaintext highlighter-rouge">tar</code> and <code class="language-plaintext highlighter-rouge">star</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">tar </span>cvf /home/archives/user1.tar user1
 star <span class="nt">-cv</span> <span class="nv">file</span><span class="o">=</span>/home/archives/user1.star user1
</code></pre></div></div><li><p>Compress the archives with <code class="language-plaintext highlighter-rouge">gzip</code> and <code class="language-plaintext highlighter-rouge">bzip2</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">gzip </span>archives/user1.tar
 bzip2 archives/user1.star
</code></pre></div></div><li><p>Inline compression with <code class="language-plaintext highlighter-rouge">tar/gzip</code> and <code class="language-plaintext highlighter-rouge">star/bzip2</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">tar </span>cvfz /home/archives/user2.tar.gz user2
 star <span class="nt">-cv</span> <span class="nt">-bz</span> <span class="nv">file</span><span class="o">=</span>/home/archives/user2.star.bz2 user2
</code></pre></div></div><li><p>Clean up and archive for multiple users:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">rm</span> <span class="nt">-f</span> archives/<span class="k">*</span>.tar.<span class="k">*</span>
 star <span class="nt">-cv</span> <span class="nt">-bz</span> <span class="nv">file</span><span class="o">=</span>/home/archives/user3.star.bz2 user3
 <span class="nb">rm</span> <span class="nt">-rf</span> user<span class="o">{</span>1..5<span class="o">}</span>
</code></pre></div></div></ol><h3 id="cleaning-up-miscellaneous-files"> <a href="#cleaning-up-miscellaneous-files" class="anchor-heading" aria-labelledby="cleaning-up-miscellaneous-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cleaning up Miscellaneous Files</h3><ol><li><p>Move and compress ISO files:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">mv</span> <span class="nt">-v</span> <span class="k">*</span>.iso archives
 bzip2 archives/<span class="k">*</span>.iso
</code></pre></div></div></ol><h3 id="archiving-project-data"> <a href="#archiving-project-data" class="anchor-heading" aria-labelledby="archiving-project-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Archiving Project Data</h3><ol><li><p>Archive project data in <code class="language-plaintext highlighter-rouge">tar/gzip</code> format:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">tar </span>cvfz archives/project_archive.tar.gz project<span class="o">{</span>1..5<span class="o">}</span>
 <span class="nb">rm</span> <span class="nt">-rf</span> project<span class="o">{</span>1..5<span class="o">}</span>
</code></pre></div></div></ol><h2 id="restoration-and-decompression"> <a href="#restoration-and-decompression" class="anchor-heading" aria-labelledby="restoration-and-decompression"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Restoration and Decompression</h2><h3 id="unarchiving-a-compressed-archive"> <a href="#unarchiving-a-compressed-archive" class="anchor-heading" aria-labelledby="unarchiving-a-compressed-archive"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Unarchiving a Compressed Archive</h3><ol><li><p>Restore <code class="language-plaintext highlighter-rouge">/home/user1</code> directory:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">tar </span>tvfj archives/user1.star.bz2
 <span class="nb">cd</span> /home
 <span class="nb">tar </span>xvfj archives/user1.star.bz2
</code></pre></div></div></ol><h3 id="uncompressing-a-compressed-file"> <a href="#uncompressing-a-compressed-file" class="anchor-heading" aria-labelledby="uncompressing-a-compressed-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Uncompressing a Compressed File</h3><ol><li><p>Uncompress the specified ISO file:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> bzip2 <span class="nt">-d</span> archives/CentOS-8.2.2004-x86_64-boot.iso.bz2
</code></pre></div></div></ol><h1 id="ssh-and-su-command-lab-guide"> <a href="#ssh-and-su-command-lab-guide" class="anchor-heading" aria-labelledby="ssh-and-su-command-lab-guide"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SSH and <code class="language-plaintext highlighter-rouge">su</code> Command Lab Guide</h1><h2 id="introduction-2"> <a href="#introduction-2" class="anchor-heading" aria-labelledby="introduction-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Introduction</strong></h2><p>This lab guides us through the use of the <code class="language-plaintext highlighter-rouge">su</code> command, delves into the capabilities of the <code class="language-plaintext highlighter-rouge">ssh</code> command, demonstrates the setup for key-based authentication in SSH, and explores SSH utilities for secure file transfers.</p><h2 id="tasks"> <a href="#tasks" class="anchor-heading" aria-labelledby="tasks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Tasks</strong></h2><h3 id="1-log-in-and-switch-users"> <a href="#1-log-in-and-switch-users" class="anchor-heading" aria-labelledby="1-log-in-and-switch-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. <strong>Log in and Switch Users</strong></h3><ul><li><p>Login to the server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh cloud_user@&lt;PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li><p>Check the current user and groups:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">whoami</span> <span class="p">;</span> <span class="nb">groups
  id</span>
</code></pre></div></div><li><p>Become the root user and configure the root user’s environment:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo</span> <span class="nt">-i</span>
  <span class="nb">echo export </span><span class="nv">SOURCED1</span><span class="o">=</span>.bash_profile <span class="o">&gt;&gt;</span> ~/.bash_profile <span class="p">;</span> <span class="nb">echo</span> <span class="s1">'echo $SOURCED1'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
  <span class="nb">echo export </span><span class="nv">SOURCED2</span><span class="o">=</span>.bashrc <span class="o">&gt;&gt;</span> ~/.bashrc <span class="p">;</span> <span class="nb">echo</span> <span class="s1">'echo $SOURCED2'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
  <span class="nb">exit</span>
</code></pre></div></div><li><p>Check the configured environment:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">grep </span>SOURCED .bash_profile
  <span class="nb">grep </span>SOURCED .bashrc
</code></pre></div></div><li><p>Reset sudo timeout:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo</span> <span class="nt">-k</span>
</code></pre></div></div><li><p>Observe the difference between <code class="language-plaintext highlighter-rouge">sudo</code>, <code class="language-plaintext highlighter-rouge">sudo -i</code>, <code class="language-plaintext highlighter-rouge">su</code>, and <code class="language-plaintext highlighter-rouge">su -</code>.</p></ul><h3 id="2-access-remote-systems-using-ssh"> <a href="#2-access-remote-systems-using-ssh" class="anchor-heading" aria-labelledby="2-access-remote-systems-using-ssh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. <strong>Access Remote Systems Using SSH</strong></h3><ul><li><p>Connect to another cloud server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li><p>Change the password for <code class="language-plaintext highlighter-rouge">cloud_user</code> and gather some system information:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo</span> <span class="nt">-i</span> passwd cloud_user
  top
  <span class="nb">hostname
  df</span> <span class="nt">-hT</span>
  <span class="nb">exit</span>
</code></pre></div></div><li><p>Fetch and store some system information locally:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh <span class="nt">-t</span> cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; <span class="nb">df</span> <span class="nt">-hT</span> <span class="o">&gt;&gt;</span> server_health.txt
  ssh <span class="nt">-t</span> cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; free <span class="o">&gt;&gt;</span> server_health.txt
  <span class="nb">cat </span>server_health.txt
</code></pre></div></div></ul><h3 id="3-configure-key-based-authentication-for-ssh"> <a href="#3-configure-key-based-authentication-for-ssh" class="anchor-heading" aria-labelledby="3-configure-key-based-authentication-for-ssh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. <strong>Configure Key-Based Authentication for SSH</strong></h3><ul><li><p>Generate an SSH key pair:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh-keygen
</code></pre></div></div><li><p>Copy the public key to the second server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh-copy-id &lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li><p>Test key-based login:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;
  <span class="nb">exit</span>
</code></pre></div></div><li><p>Start the ssh-agent and add the private key:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">eval</span> <span class="si">$(</span>ssh-agent <span class="nt">-s</span><span class="si">)</span>
  ssh-add
</code></pre></div></div></ul><h3 id="4-securely-transfer-files-between-systems"> <a href="#4-securely-transfer-files-between-systems" class="anchor-heading" aria-labelledby="4-securely-transfer-files-between-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. <strong>Securely Transfer Files between Systems</strong></h3><ul><li><p>Execute a backup on a remote system and transfer the files securely:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; <span class="nb">tar</span> <span class="nt">-czvf</span> wget-server2.tar.gz wget-1<span class="k">*</span>.rpm
  scp cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;:~/wget-server2<span class="k">*</span>.<span class="k">*</span> <span class="nb">.</span>
  <span class="nb">ls</span> <span class="nt">-l</span>
</code></pre></div></div></ul><h1 id="accessing-linux-systems-using-rhel-8"> <a href="#accessing-linux-systems-using-rhel-8" class="anchor-heading" aria-labelledby="accessing-linux-systems-using-rhel-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Accessing Linux Systems Using RHEL 8</h1><h3 id="log-in-and-switch-users"> <a href="#log-in-and-switch-users" class="anchor-heading" aria-labelledby="log-in-and-switch-users"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Log in and Switch Users</strong></h3><ul><li><p>Log in to the server using the credentials provided:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li><p>To get information on who we are, use:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">whoami</span> <span class="p">;</span> <span class="nb">groups</span>
</code></pre></div></div><li><p>For more information on our user ID, primary group ID, and groups that we’re part of, run this command:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">id</span>
</code></pre></div></div><li><p>To determine what files get run when we use different commands to elevate our privileges, become the root user:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-i</span>
</code></pre></div></div><li><p>Enter the following command to export and echo SOURCED1 into the root user’s bash_profile:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo export </span><span class="nv">SOURCED1</span><span class="o">=</span>.bash_profile <span class="o">&gt;&gt;</span> ~/.bash_profile <span class="p">;</span> <span class="nb">echo</span> <span class="s1">'echo $SOURCED1'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
</code></pre></div></div><li><p>Make sure both lines are there:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep </span>SOURCED .bash_profile
</code></pre></div></div><li><p>Enter the following command to export and echo SOURCED2 into the root user’s .bashrc:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo export </span><span class="nv">SOURCED2</span><span class="o">=</span>.bashrc <span class="o">&gt;&gt;</span> ~/.bashrc <span class="p">;</span> <span class="nb">echo</span> <span class="s1">'echo $SOURCED2'</span> <span class="o">&gt;&gt;</span> ~/.bashrc
</code></pre></div></div><li><p>Make sure both SOURCED lines are there:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep </span>SOURCED .bashrc
</code></pre></div></div><li><p>Exit by simply entering:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div><li><p>Kill the timeout:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-k</span>
</code></pre></div></div><li><p>To see the echoes, enter:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-i</span> <span class="nb">echo</span>
</code></pre></div></div><li>Type in the cloud_user’s password to see the echoes.<li><p>Set the root user’s password:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-i</span> passwd root
</code></pre></div></div><li>Enter a new password for the root user.<li><p>Run the command to see the cloud_user’s path:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su <span class="nt">-c</span> <span class="s1">'echo $PATH'</span>
</code></pre></div></div><li>Enter the root user’s password. This should show the cloud_user’s path.<li><p>Run the command to sign in as the root user and show the cloud_user’s path:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>su - <span class="nt">-c</span> <span class="s1">'echo $PATH'</span>
</code></pre></div></div><li><p>Enter the root user’s password. This should show the root user’s profile, bashrc, and path.</p><p>Understand that <code class="language-plaintext highlighter-rouge">sudo</code> equals the <code class="language-plaintext highlighter-rouge">cloud_user</code>, but <code class="language-plaintext highlighter-rouge">sudo -i</code> equals the <code class="language-plaintext highlighter-rouge">root user</code>. <code class="language-plaintext highlighter-rouge">su</code> also equals the <code class="language-plaintext highlighter-rouge">cloud_user</code>, while <code class="language-plaintext highlighter-rouge">su -</code> equals the <code class="language-plaintext highlighter-rouge">root user</code>.</p></ul><h3 id="access-remote-systems-using-ssh"> <a href="#access-remote-systems-using-ssh" class="anchor-heading" aria-labelledby="access-remote-systems-using-ssh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Access Remote Systems Using SSH</strong></h3><ul><li><p>Connect to a remote system on the second cloud server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li>When asked if you want to continue connecting, type “yes”.<li>Enter the password for the remote system on the second cloud server.<li><p>Change the password:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> <span class="nt">-i</span> passwd cloud_user
</code></pre></div></div><li>Enter first the old password and then a new password that you’d prefer to use.<li><p>To get some information on the remote system, query the remote system by running the following commands:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top
<span class="nb">hostname
df</span> <span class="nt">-hT</span>
</code></pre></div></div><li><p>Exit out of the server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div><li><p>Return the remote system’s output to the initial system:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-t</span> cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; <span class="nb">df</span> <span class="nt">-hT</span> <span class="o">&gt;&gt;</span> server_health.txt
</code></pre></div></div><li>Enter the password for the remote system on the second cloud server.<li><p>If you see an error message, pull up the server health file:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>server_health.txt
</code></pre></div></div><li><p>See the free memory on the server with the <code class="language-plaintext highlighter-rouge">free</code> command:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-t</span> cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; free <span class="o">&gt;&gt;</span> server_health.txt
</code></pre></div></div><li>Enter the password for the remote system on the second cloud server.<li><p>Get the information and see the text file about the server health file:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>server_health.txt
</code></pre></div></div></ul><h3 id="configure-key-based-authentication-for-ssh"> <a href="#configure-key-based-authentication-for-ssh" class="anchor-heading" aria-labelledby="configure-key-based-authentication-for-ssh"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Configure Key-Based Authentication for SSH</strong></h3><ul><li><p>Generate a public/private key pair using the defaults on the first cloud server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-keygen
</code></pre></div></div><li>Hit Enter and type in a passphrase, ideally something that’s easy to remember. This should give you your randomart image and ID.<li><p>Copy that ID to the second cloud server, also known as the remote server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-copy-id &lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li>Type in the password for the second cloud server.<li><p>Connect to the remote server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><li>Type in the passphrase that you created a few steps ago to test if the key is working.<li><p>Exit out of the remote server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div><li><p>Add the <code class="language-plaintext highlighter-rouge">cloud_user</code> identity to the agent and to reload the agent:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">eval</span> <span class="si">$(</span>ssh-agent <span class="nt">-s</span><span class="si">)</span>
</code></pre></div></div><li><p>Add your <code class="language-plaintext highlighter-rouge">cloud_user</code> identity to the agent, which can now act on your behalf:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-add
</code></pre></div></div><li>Type in your passphrase.<li><p>Connect to the remote server:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div></ul><h3 id="securely-transfer-files-between-systems"> <a href="#securely-transfer-files-between-systems" class="anchor-heading" aria-labelledby="securely-transfer-files-between-systems"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Securely Transfer Files between Systems</strong></h3><ul><li><p>Execute a backup command on a remote system:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt; <span class="nb">tar</span> <span class="nt">-czvf</span> wget-server2.tar.gz wget-1<span class="k">*</span>.rpm
</code></pre></div></div><li><p>Hit the Up arrow and perform an <code class="language-plaintext highlighter-rouge">scp</code>:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scp cloud_user@&lt;SECOND_PUBLIC_IP_ADDRESS&gt;:~/wget-server2<span class="k">*</span>.<span class="k">*</span> <span class="nb">.</span>
</code></pre></div></div><li><p>Check the home directory to make sure all the files have been transferred:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-l</span>
</code></pre></div></div></ul><h1 id="using-inputoutput-redirection-and-analyzing-text-on-rhel-8"> <a href="#using-inputoutput-redirection-and-analyzing-text-on-rhel-8" class="anchor-heading" aria-labelledby="using-inputoutput-redirection-and-analyzing-text-on-rhel-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Input/Output Redirection and Analyzing Text on RHEL 8</h1><h2 id="log-in-to-server1"> <a href="#log-in-to-server1" class="anchor-heading" aria-labelledby="log-in-to-server1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Log in to server1</h2><p>Use the credentials provided in the lab:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh cloud_user@&lt;PUBLIC_IP_ADDRESS&gt;
</code></pre></div></div><h2 id="use-inputoutput-redirection"> <a href="#use-inputoutput-redirection" class="anchor-heading" aria-labelledby="use-inputoutput-redirection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use Input/Output Redirection</h2><h3 id="create-a-server-health-log-file"> <a href="#create-a-server-health-log-file" class="anchor-heading" aria-labelledby="create-a-server-health-log-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create a Server Health Log File</h3><ol><li>Create a server health log file that contains a sequential number of outputs with the hostname, date and time, and a simple header:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span> <span class="nb">echo</span> <span class="s2">" "</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"==== </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2"> on </span><span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="s2"> ===="</span> <span class="p">;</span> <span class="nb">df</span> <span class="nt">-hT</span> <span class="p">;</span> <span class="o">}</span>
</code></pre></div></div><ol><li>Rerun the previous command, and output this to a text file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span> <span class="nb">echo</span> <span class="s2">" "</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"==== </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2"> on </span><span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="s2"> ===="</span> <span class="p">;</span> <span class="nb">df</span> <span class="nt">-hT</span> <span class="p">;</span> <span class="o">}</span> <span class="o">&gt;</span> <span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="nt">-health</span>.txt
</code></pre></div></div><ol><li>Review the output:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>server1-health.txt
</code></pre></div></div><ul><li>Observe what was added to the file.</ul><ol><li>Rerun the first echo command to create the server health log file twice more:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span> <span class="nb">echo</span> <span class="s2">" "</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"==== </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2"> on </span><span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="s2"> ===="</span> <span class="p">;</span> <span class="nb">df</span> <span class="nt">-hT</span> <span class="p">;</span> <span class="o">}</span> <span class="o">&gt;</span> <span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="nt">-health</span>.txt
</code></pre></div></div><ul><li>Review the output using <code class="language-plaintext highlighter-rouge">cat server1-health.txt</code> again to see how many times the command was run.</ul><ol><li>Change the server health log file to contain a double redirect to ensure that the initial and subsequent outputs are not overwritten:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span> <span class="nb">echo</span> <span class="s2">" "</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"==== </span><span class="sb">`</span><span class="nb">date</span><span class="sb">`</span><span class="s2"> on </span><span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="s2"> ===="</span> <span class="p">;</span> <span class="nb">df</span> <span class="nt">-hT</span> <span class="p">;</span> <span class="o">}</span> <span class="o">&gt;&gt;</span> <span class="sb">`</span><span class="nb">hostname</span><span class="sb">`</span><span class="nt">-health</span>.txt
</code></pre></div></div><ul><li>Run the above command 2 more times.<li>Inspect the output again using <code class="language-plaintext highlighter-rouge">cat server1-health.txt</code>.</ul><h2 id="search-for-files-in-the-home-directory"> <a href="#search-for-files-in-the-home-directory" class="anchor-heading" aria-labelledby="search-for-files-in-the-home-directory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Search for Files in the /home Directory</h2><ol><li>Find all the files in the <code class="language-plaintext highlighter-rouge">/home</code> directory owned by the <code class="language-plaintext highlighter-rouge">cloud_user</code>:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user
</code></pre></div></div><ul><li>Observe a long list of filenames, along with 2 Permission denied errors at the end.</ul><ol><li>Generate clean lines of output without the 2 errors:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user 2&gt; /dev/null
</code></pre></div></div><ol><li>Find out how many clean lines of output there are:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user 2&gt; /dev/null | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div><ol><li>Save the output to a text file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user 2&gt; /dev/null <span class="o">&gt;</span> cloud_user-files.txt
</code></pre></div></div><ol><li>Ensure the filenames are in the text file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>cloud_user-files.txt
</code></pre></div></div><ol><li>Number the list of filenames, and save them in another text file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">nl </span>cloud_user-files.txt <span class="o">&gt;</span> numberedfiles.txt
</code></pre></div></div><ol><li>Ensure the numbered filenames are in the text file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat </span>numberedfiles.txt
</code></pre></div></div><ol><li>Sort the numbered lines:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sort </span>numberedfiles.txt
</code></pre></div></div><ul><li>Observe that because there were no leading zeroes in front of the lower numbers, it doesn’t sort properly.</ul><ol><li>To fix this, run a numeric sort:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sort</span> <span class="nt">-n</span> numberedfiles.txt
</code></pre></div></div><ol><li>Generate a list showing the first-level directories inside <code class="language-plaintext highlighter-rouge">/etc</code>:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /etc <span class="nt">-maxdepth</span> 1
</code></pre></div></div><ul><li>Observe the output includes files that go 1 level further than then <code class="language-plaintext highlighter-rouge">/etc</code> directory.</ul><ol><li>Add on to the previous command to generate a list showing the space used for the first-level directories inside <code class="language-plaintext highlighter-rouge">/etc</code>:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /etc <span class="nt">-maxdepth</span> 1 <span class="nt">-iname</span> <span class="s2">"*.*"</span> <span class="nt">-exec</span> <span class="nb">du</span> <span class="nt">-sh</span> <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div><ul><li>Observe the previous list now includes total space usage for each item.</ul><ol><li>Rerun the following command, and sort it by space usage from least to most used:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /etc <span class="nt">-maxdepth</span> 1 <span class="nt">-iname</span> <span class="s2">"*.*"</span> <span class="nt">-exec</span> <span class="nb">du</span> <span class="nt">-sh</span> <span class="o">{}</span> <span class="se">\;</span> | <span class="nb">sort</span> <span class="nt">-h</span>
</code></pre></div></div><ol><li>Rerun the previous command, and this time, output it to <code class="language-plaintext highlighter-rouge">etc-space-usage.txt</code>:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /etc <span class="nt">-maxdepth</span> 1 <span class="nt">-iname</span> <span class="s2">"*.*"</span> <span class="nt">-exec</span> <span class="nb">du</span> <span class="nt">-sh</span> <span class="o">{}</span> <span class="se">\;</span> | <span class="nb">sort</span> <span class="nt">-h</span> <span class="o">&gt;</span> etc-space-usage.txt
</code></pre></div></div><ul><li>You shouldn’t see any output aside from 2 directory errors.</ul><ol><li>Review the file:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>less etc-space-usage.txt
</code></pre></div></div><ul><li>Observe the files listed and sorted by space usage.</ul><h2 id="use-grep-and-regular-expressions-to-analyze-text"> <a href="#use-grep-and-regular-expressions-to-analyze-text" class="anchor-heading" aria-labelledby="use-grep-and-regular-expressions-to-analyze-text"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use grep and Regular Expressions to Analyze Text</h2><ol><li>Find all the files owned by the <code class="language-plaintext highlighter-rouge">cloud_user</code> in the <code class="language-plaintext highlighter-rouge">/home</code> directory:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user
</code></pre></div></div><ol><li>Find all the files owned by the <code class="language-plaintext highlighter-rouge">cloud_user</code> in the <code class="language-plaintext highlighter-rouge">/home</code> directory that contain the word “file”:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user | <span class="nb">grep</span> <span class="nt">-i</span> file
</code></pre></div></div><ul><li>Notice in the output that it only searches for the word “file” in the actual filenames rather than within the contents of the file.</ul><ol><li>Use the <code class="language-plaintext highlighter-rouge">-exec</code> feature of <code class="language-plaintext highlighter-rouge">find</code> to find the word “file” in the files themselves:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user <span class="nt">-exec</span> <span class="nb">grep</span> <span class="nt">-i</span> file <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></div><ol><li>Find out how many lines of output were found:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user <span class="nt">-exec</span> <span class="nb">grep</span> <span class="nt">-i</span> file <span class="o">{}</span> <span class="se">\;</span> | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div><ul><li>You should see 140 lines at the bottom of the output.</ul><ol><li>Count how many lines were generated without errors:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find /home <span class="nt">-user</span> cloud_user <span class="nt">-exec</span> <span class="nb">grep</span> <span class="nt">-i</span> file <span class="o">{}</span> <span class="se">\;</span> 2&gt; /dev/null | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div><ul><li>You should again see 140 lines. Note that this counts only the standard out rather than the standard error.</ul><ol><li>Utilize the <code class="language-plaintext highlighter-rouge">grep</code> command directly to find the word “file” inside all files owned by <code class="language-plaintext highlighter-rouge">cloud_user</code> in the <code class="language-plaintext highlighter-rouge">/home</code> directory:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-ir</span> file /usr/share/doc/zip
</code></pre></div></div><ol><li>Add a total count of the output to the bottom of the list:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-ir</span> file /usr/share/doc/zip <span class="p">;</span> <span class="o">!!</span> | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div><ul><li>You should see 965 at the bottom.</ul><ol><li>Run a case-sensitive search for only the word “file” as lowercase:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-ir</span> file /usr/share/doc/zip <span class="p">;</span> <span class="nb">grep</span> <span class="nt">-r</span> file /usr/share/doc/zip | <span class="nb">wc</span> <span class="nt">-l</span>
</code></pre></div></div><ul><li>You should see 925 at the bottom.</ul><ol><li>Create a text file containing all the search results for the word “file”:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">grep</span> <span class="nt">-ir</span> file /usr/share/doc/zip <span class="p">;</span> <span class="nb">grep</span> <span class="nt">-r</span> file /usr/share/doc/zip <span class="o">&gt;</span> grepoutput.txt
</code></pre></div></div><ol><li>Check the text file output:</ol><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

<span class="nb">cat </span>grepoutput.txt
</code></pre></div></div></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><span>[ <a href="https://github.com/kyoon55">Github</a> ]</span> <span>[ <a href="mailto:kyoon5@gwu.edu">Click here to email me</a> ]</span><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/my-tech/assets/css/just-the-docs-default.css"> <script src="/my-tech/assets/js/vendor/lunr.min.js"></script> <script src="/my-tech/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/my-tech/assets/images/favicon.ico" type="image/x-icon"><title>RHCSA - Understanding and Using Essential Tools on RHEL 8 | My SRE Stuff</title><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="RHCSA - Understanding and Using Essential Tools on RHEL 8" /><meta property="og:locale" content="en_US" /><meta name="description" content="This page is full of articles for my SRE knowledge" /><meta property="og:description" content="This page is full of articles for my SRE knowledge" /><link rel="canonical" href="http://localhost:4000/my-tech/doc/Linux/doc-1/" /><meta property="og:url" content="http://localhost:4000/my-tech/doc/Linux/doc-1/" /><meta property="og:site_name" content="My SRE Stuff" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-15T00:00:00-08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="RHCSA - Understanding and Using Essential Tools on RHEL 8" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-15T00:00:00-08:00","datePublished":"2023-01-15T00:00:00-08:00","description":"This page is full of articles for my SRE knowledge","headline":"RHCSA - Understanding and Using Essential Tools on RHEL 8","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/my-tech/doc/Linux/doc-1/"},"url":"http://localhost:4000/my-tech/doc/Linux/doc-1/"}</script>
